{"version":3,"sources":["file:///Users/vladislavkvinto/FlappyBat/assets/scripts/FailureWindow.ts"],"names":["_decorator","Component","director","RigidBody2D","GameManager","ccclass","property","FailureWindow","start","restartGame","gameManager","getScene","getChildByName","getComponent","failureWindow","active","player","sleep","setPosition","setRotationFromEuler","score","scoreLabel","string","isGameStarted","children","forEach","value","name","destroy","mainMenu","loadScene","update","deltaTime"],"mappings":";;;;;;;;;;;;;;;;AAAQA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,Q,OAAAA,Q;AAAUC,MAAAA,W,OAAAA,W;;AACvCC,MAAAA,W,iBAAAA,W;;;;;;;;;OAEF;AAACC,QAAAA,OAAD;AAAUC,QAAAA;AAAV,O,GAAsBN,U;;+BAGfO,a,WADZF,OAAO,CAAC,eAAD,C,gBAAR,MACaE,aADb,SACmCN,SADnC,CAC6C;AACzCO,QAAAA,KAAK,GAAG,CAEP;;AAEOC,QAAAA,WAAW,GAAG;AAClB,cAAIC,WAAW,GAAGR,QAAQ,CAACS,QAAT,GAAoBC,cAApB,CAAmC,aAAnC,EAAkDC,YAAlD;AAAA;AAAA,yCAAlB;AAEAH,UAAAA,WAAW,CAACI,aAAZ,CAA0BC,MAA1B,GAAmC,KAAnC;AAEAL,UAAAA,WAAW,CAACM,MAAZ,CAAmBH,YAAnB,CAAgCV,WAAhC,EAA6Cc,KAA7C;AACAP,UAAAA,WAAW,CAACM,MAAZ,CAAmBE,WAAnB,CAA+B,CAAC,GAAhC,EAAqC,CAArC;AACAR,UAAAA,WAAW,CAACM,MAAZ,CAAmBG,oBAAnB,CAAwC,CAAxC,EAA2C,CAA3C;AAEAT,UAAAA,WAAW,CAACU,KAAZ,GAAoB,CAApB;AAEAV,UAAAA,WAAW,CAACW,UAAZ,CAAuBC,MAAvB,GAAgC,UAAhC;AAEAZ,UAAAA,WAAW,CAACa,aAAZ,GAA4B,KAA5B;AAEArB,UAAAA,QAAQ,CAACS,QAAT,GAAoBC,cAApB,CAAmC,QAAnC,EAA6CY,QAA7C,CAAsDC,OAAtD,CAA8DC,KAAK,IAAI;AACnE,gBAAIA,KAAK,CAACC,IAAN,KAAe,aAAf,IAAgCD,KAAK,CAACC,IAAN,KAAe,QAA/C,IAA2DD,KAAK,CAACC,IAAN,KAAe,gBAA9E,EAAgG;AAC5FD,cAAAA,KAAK,CAACE,OAAN;AACH;AACJ,WAJD;AAMH;;AAEOC,QAAAA,QAAQ,GAAG;AACf3B,UAAAA,QAAQ,CAAC4B,SAAT,CAAmB,UAAnB;AACH;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAlCwC,O","sourcesContent":["import {_decorator, Component, Node, director, RigidBody2D} from 'cc';\nimport {GameManager} from \"db://assets/scripts/GameManager\";\n\nconst {ccclass, property} = _decorator;\n\n@ccclass('FailureWindow')\nexport class FailureWindow extends Component {\n    start() {\n\n    }\n\n    private restartGame() {\n        let gameManager = director.getScene().getChildByName(\"GameManager\").getComponent(GameManager);\n\n        gameManager.failureWindow.active = false;\n\n        gameManager.player.getComponent(RigidBody2D).sleep();\n        gameManager.player.setPosition(-150, 0);\n        gameManager.player.setRotationFromEuler(0, 0);\n\n        gameManager.score = 0;\n\n        gameManager.scoreLabel.string = \"Score: 0\";\n\n        gameManager.isGameStarted = false;\n\n        director.getScene().getChildByName(\"Canvas\").children.forEach(value => {\n            if (value.name === \"TopObstacle\" || value.name === \"Sensor\" || value.name === \"BottomObstacle\" ){\n                value.destroy();\n            }\n        })\n\n    }\n\n    private mainMenu() {\n        director.loadScene(\"MainMenu\");\n    }\n\n    update(deltaTime: number) {\n\n    }\n}\n\n"]}